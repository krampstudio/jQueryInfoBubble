/**
 * @author <a href="mailto:chevrier.bertrand@gmail.com">Bertrand Chevrier</a>
 * @license http://www.gnu.org/licenses/agpl-3.0.txt
 * @version $version$
 * @requires jquery >= 1.7
 * 
 * Compressed with Yui Compressor at http://refresh-sf.com/yui/
 */
(function(b){var a={_opts:{content:"info bubble",position:"right",arrow:{top:"../resources/arrow_top.png",right:"../resources/arrow_right.png",bottom:"../resources/arrow_bottom.png",left:"../resources/arrow_left.png"},style:{"background-color":"#000",border:"solid 2px #FFF",color:"#FFF",padding:"10px","border-radius":"6px"}},display:function(c){var d=b.extend(true,{},a._opts,c);return this.each(function(){var f=b(this);var h=b.extend({},f.offset(),{width:parseInt(f.width()),height:parseInt(f.height()),right:parseInt(f.offset().left)+parseInt(f.width()),bottom:parseInt(f.offset().top)+parseInt(f.height())});var g,e={};switch(d.position){case"top":g=d.arrow.bottom;break;case"right":g=d.arrow.left;break;case"bottom":g=d.arrow.top;break;case"left":g=d.arrow.right;break;default:b.error("Unkown position "+d.position+"for the info bubble");break}a.getImageSize(g,function(i,k){if(i){return b.error(i)}var j=b("<div>	<div class='bubble-container'> 	<img class='bubble-arrow' src='"+g+"' />		<div class='bubble-content'></div> </div></div>");b(".bubble-content",j).html(d.content).css(d.style);j.css({position:"absolute",top:"200px",left:"200px","z-index":"1000"});b(".bubble-container",j).css({position:"relative"});b(".bubble-arrow",j).css({position:"absolute",top:"15px",left:"0",opacity:"0.7","z-index":"1500"});b(".bubble-content",j).css({position:"absolute",top:"0",left:(parseInt(k.width)-2)+"px",opacity:"0.6","z-index":"1000","min-width":"200px","min-height":"100px"});b("body").append(j)})})},destroy:function(){this.each(function(){var c=b(this)})}};a.getImageSize=function(d,e){if(!d){e("Image source required")}var c=new Image();c.onload=function(){e(null,{width:this.width,height:this.height})};c.src=d};b.fn.infoBubble=function(c){return a.display.apply(this,arguments)}})(jQuery);